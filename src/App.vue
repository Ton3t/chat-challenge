<template>
  <!--general web-->
  <div class="web text-white">
    <div class="navbar bg-base-100">
      <div class="flex-1">
        <a class="btn btn-ghost text-xl">Chat-Challenge | 1millionbot</a>
      </div>
      <div class="flex-none">
        <ul class="menu menu-horizontal px-1">
          <li><a>Link</a></li>
          <li><a>Link</a></li>
          <li><a>Link</a></li>
          <li><a>Link</a></li>
          <li>
            <details>
              <summary>Parent</summary>
              <ul class="p-2 bg-base-100 rounded-t-none">
                <li><a>Link 1</a></li>
                <li><a>Link 2</a></li>
              </ul>
            </details>
          </li>
        </ul>
      </div>
    </div>

    <section class="text-white-600 body-font">
      <div class="container px-5 py-24 mx-auto">
        <div class="flex flex-col text-center w-full mb-20">
          <h2 class="text-xs text-indigo-500 tracking-widest font-medium title-font mb-1">
            ROOF PARTY POLAROID
          </h2>
          <h1 class="sm:text-3xl text-2xl font-medium title-font mb-4 text-white-100">
            Master Cleanse Reliac Heirloom
          </h1>
          <p class="lg:w-2/3 mx-auto leading-relaxed text-base text-white">
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Harum voluptatem quo eos,
            placeat ducimus voluptates, similique sequi quam, obcaecati expedita sunt! Facilis
            error, incidunt fugiat perspiciatis praesentium facere temporibus laudantium.
          </p>
        </div>
        <div class="flex flex-wrap">
          <div
            class="xl:w-1/4 lg:w-1/2 md:w-full px-8 py-6 border-l-2 border-gray-200 border-opacity-60"
          >
            <h2 class="text-lg sm:text-xl text-gray-900 font-medium title-font mb-2">
              Shooting Stars
            </h2>
            <p class="leading-relaxed text-base mb-4">
              Lorem ipsum dolor, sit amet consectetur adipisicing elit. Harum voluptatem quo eos,
              placeat ducimus voluptates, similique sequi quam, obcaecati expedita sunt! Facilis
              error, incidunt fugiat perspiciatis praesentium facere temporibus laudantium.
            </p>
            <a class="text-indigo-500 inline-flex items-center"
              >Learn More
              <svg
                fill="none"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                class="w-4 h-4 ml-2"
                viewBox="0 0 24 24"
              >
                <path d="M5 12h14M12 5l7 7-7 7"></path>
              </svg>
            </a>
          </div>
          <div
            class="xl:w-1/4 lg:w-1/2 md:w-full px-8 py-6 border-l-2 border-gray-200 border-opacity-60"
          >
            <h2 class="text-lg sm:text-xl text-gray-900 font-medium title-font mb-2">
              The Catalyzer
            </h2>
            <p class="leading-relaxed text-base mb-4">
              Lorem ipsum dolor, sit amet consectetur adipisicing elit. Harum voluptatem quo eos,
              placeat ducimus voluptates, similique sequi quam, obcaecati expedita sunt! Facilis
              error, incidunt fugiat perspiciatis praesentium facere temporibus laudantium.
            </p>
            <a class="text-indigo-500 inline-flex items-center"
              >Learn More
              <svg
                fill="none"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                class="w-4 h-4 ml-2"
                viewBox="0 0 24 24"
              >
                <path d="M5 12h14M12 5l7 7-7 7"></path>
              </svg>
            </a>
          </div>
          <div
            class="xl:w-1/4 lg:w-1/2 md:w-full px-8 py-6 border-l-2 border-gray-200 border-opacity-60"
          >
            <h2 class="text-lg sm:text-xl text-gray-900 font-medium title-font mb-2">Neptune</h2>
            <p class="leading-relaxed text-base mb-4">
              Lorem ipsum dolor, sit amet consectetur adipisicing elit. Harum voluptatem quo eos,
              placeat ducimus voluptates, similique sequi quam, obcaecati expedita sunt! Facilis
              error, incidunt fugiat perspiciatis praesentium facere temporibus laudantium.
            </p>
            <a class="text-indigo-500 inline-flex items-center"
              >Learn More
              <svg
                fill="none"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                class="w-4 h-4 ml-2"
                viewBox="0 0 24 24"
              >
                <path d="M5 12h14M12 5l7 7-7 7"></path>
              </svg>
            </a>
          </div>
          <div
            class="xl:w-1/4 lg:w-1/2 md:w-full px-8 py-6 border-l-2 border-gray-200 border-opacity-60"
          >
            <h2 class="text-lg sm:text-xl text-gray-900 font-medium title-font mb-2">Melanchole</h2>
            <p class="leading-relaxed text-base mb-4">
              Lorem ipsum dolor, sit amet consectetur adipisicing elit. Harum voluptatem quo eos,
              placeat ducimus voluptates, similique sequi quam, obcaecati expedita sunt! Facilis
              error, incidunt fugiat perspiciatis praesentium facere temporibus laudantium.
            </p>
            <a class="text-indigo-500 inline-flex items-center"
              >Learn More
              <svg
                fill="none"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                class="w-4 h-4 ml-2"
                viewBox="0 0 24 24"
              >
                <path d="M5 12h14M12 5l7 7-7 7"></path>
              </svg>
            </a>
          </div>
        </div>
        <footer class="text-white body-font">
          <div
            class="container px-5 py-24 mx-auto flex md:items-center lg:items-start md:flex-row md:flex-nowrap flex-wrap flex-col"
          >
            <div class="w-64 flex-shrink-0 md:mx-0 mx-auto text-center md:text-left">
              <a class="flex title-font font-medium items-center md:justify-start justify-center">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  class="w-10 h-10 text-white p-2 bg-indigo-500 rounded-full"
                  viewBox="0 0 24 24"
                >
                  <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
                </svg>
                <span class="ml-3 text-xl">Tailblocks</span>
              </a>
              <p class="mt-2 text-sm">Air plant banjo lyft occupy retro adaptogen indego</p>
            </div>
            <div
              class="flex-grow flex flex-wrap md:pl-20 -mb-10 md:mt-0 mt-10 md:text-left text-center"
            >
              <div class="lg:w-1/4 md:w-1/2 w-full px-4">
                <h2 class="title-font font-medium tracking-widest text-sm mb-3">CATEGORIES</h2>
                <nav class="list-none mb-10">
                  <li>
                    <a class="hover:text-gray-100">First Link</a>
                  </li>
                  <li>
                    <a class="hover:text-gray-100">Second Link</a>
                  </li>
                  <li>
                    <a class="hover:text-gray-100">Third Link</a>
                  </li>
                  <li>
                    <a class="hover:text-gray-100">Fourth Link</a>
                  </li>
                </nav>
              </div>
            </div>
          </div>
        </footer>
        <button
          class="flex mx-auto mt-16 text-white bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg"
        >
          Button
        </button>
      </div>
    </section>
  </div>

  <div class="w-screen h-screen bg-black bg-opacity-50 fixed top-0 left-0 pointer-events-none">
    <div class="text-white">
      <button
        class="absolute bottom-5 right-5 pointer-events-auto flex flex-row"
        @click="toggleOpen()"
      >
        <div class="chat chat-end" :class="{ flex: !open, hidden: open }">
          <div class="chat-bubble red-1millionBot text-white">
            {{ conversation.bot.welcomeMessage }}
          </div>
        </div>
        <div class="size-20 relative">
          <img
            class="rounded-full"
            :class="{ flex: !open, hidden: open }"
            :src="conversation.bot.img ?? ''"
            :alt="conversation.bot.userName ?? 'Imagen del bot'"
          />
        </div>
      </button>
    </div>

    <!-- chat box -->
    <div class="h-full w-full" :class="{ flex: open, hidden: !open }">
      <div
        class="flex flex-col lg:w-96 lg:h-[70vh] w-[100vw] mt-0 h-full absolute lg:top-0 lg:right-0 pointer-events-auto overflow-auto lg:mt-12 mr-5 rounded-2xl"
      >
        <header class="text-red-50 w-full flex justify-between items-center p-1 red-1millionBot">
          <div class="flex-grow flex items-center">
            <button @click="toggleOpen()">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="icon icon-tabler icons-tabler-outline icon-tabler-minus"
              >
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <path d="M5 12l14 0" />
              </svg>
            </button>
            <div class="bot flex items-center ml-2">
              <img
                class="size-12 rounded-full"
                :src="conversation.bot.img"
                :alt="conversation.bot.userName + ' imagen, avatar' ?? 'imagen del bot'"
              />
              <span class="ml-2">{{ conversation.bot.userName }}</span>
            </div>
          </div>
          <button class="menu-bar" @click="toggleMenu()">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="icon icon-tabler icons-tabler-outline icon-tabler-baseline-density-small"
            >
              <path stroke="none" d="M0 0h24v24H0z" fill="none" />
              <path d="M4 3h16" />
              <path d="M4 9h16" />
              <path d="M4 15h16" />
              <path d="M4 21h16" />
            </svg>
          </button>
        </header>

        <main class="bg-slate-100 flex-grow overflow-auto p-1" ref="messagesChat">
          <div v-for="message in conversation.messages" :key="message.id">
            <div
              class="chat"
              :class="{ 'chat-start': message.role === 'user', 'chat-end': message.role === 'bot' }"
              v-if="message.type === 'text'"
            >
              <div class="chat-image avatar">
                <div class="w-10 rounded-full">
                  <img v-if="message.role === 'bot'" alt="botImg" :src="getSenderImg(message)" />
                  <img v-else alt="userImg" :src="getSenderImg(message)" />
                </div>
              </div>
              <div class="chat-header m-2">
                {{ getSenderName(message) }}
                <time class="text-xs opacity-50">{{ message.time }}</time>
              </div>
              <div class="chat-bubble" :class="{ 'bg-slate-600': message.role === 'user' }">
                {{ message.text }}
              </div>
            </div>

            <div
              class="chat"
              :class="{ 'chat-start': message.role === 'user', 'chat-end': message.role === 'bot' }"
              v-if="message.type === 'image'"
            >
              <div class="chat-image avatar">
                <div class="w-10 rounded-full">
                  <img v-if="message.role === 'bot'" alt="botImg" :src="getSenderImg(message)" />
                  <img v-else alt="userImg" :src="getSenderImg(message)" />
                </div>
              </div>
              <div class="chat-header m-2">
                {{ getSenderName(message) }}
                <time class="text-xs opacity-50">{{ message.time }}</time>
              </div>
              <div class="chat-bubble" :class="{ 'bg-slate-600': message.role === 'user' }">
                {{ message.text }}

                <img
                  class="rounded-sm m-auto mt-2 mb-2"
                  :src="message.config?.url ?? ''"
                  :alt="message.config?.alt ?? ''"
                />
              </div>
            </div>

            <div
              class="chat"
              :class="{ 'chat-start': message.role === 'user', 'chat-end': message.role === 'bot' }"
              v-if="message.type === 'button'"
            >
              <div class="chat-image avatar">
                <div class="w-10 rounded-full">
                  <img v-if="message.role === 'bot'" alt="botImg" :src="getSenderImg(message)" />
                  <img v-else alt="userImg" :src="getSenderImg(message)" />
                </div>
              </div>
              <div class="chat-header m-2">
                {{ getSenderName(message) }}
                <time class="text-xs opacity-50">{{ message.time }}</time>
              </div>
              <div class="chat-bubble" :class="{ 'bg-slate-600': message.role === 'user' }">
                {{ message.text }}
              </div>
            </div>

            <div
              class="chat"
              :class="{ 'chat-start': message.role === 'user', 'chat-end': message.role === 'bot' }"
              v-if="message.type === 'link'"
            >
              <div class="chat-image avatar">
                <div class="w-10 rounded-full">
                  <img v-if="message.role === 'bot'" alt="botImg" :src="getSenderImg(message)" />
                  <img v-else alt="userImg" :src="getSenderImg(message)" />
                </div>
              </div>
              <div class="chat-header m-2">
                {{ getSenderName(message) }}
                <time class="text-xs opacity-50">{{ message.time }}</time>
              </div>
              <div class="chat-bubble">
                <p>{{ message.text }}</p>
                <a
                  v-for="link in message.config?.links ?? []"
                  :key="link.url"
                  class="text-red-400"
                  :href="link.url"
                  >link</a
                >
              </div>
            </div>

            <div
              class="chat"
              :class="{ 'chat-start': message.role === 'user', 'chat-end': message.role === 'bot' }"
              v-if="message.type === 'cards'"
            >
              <div class="chat-image avatar">
                <div class="w-10 rounded-full">
                  <img v-if="message.role === 'bot'" alt="botImg" :src="getSenderImg(message)" />
                  <img v-else alt="userImg" :src="getSenderImg(message)" />
                </div>
              </div>
              <div class="chat-header m-2">
                {{ getSenderName(message) }}
                <time class="text-xs opacity-50">{{ message.time }}</time>
              </div>
              <div class="chat-bubble">
                <div class="carousel w-full">
                  <div
                    v-for="card in message.config?.cards"
                    :key="card.text"
                    class="carousel-item w-full mt-2 flex"
                  >
                    <img :id="card.img?.url" :src="card.img?.url" class="w-full rounded-sm" />
                  </div>
                </div>
                <div
                  v-for="(card, index) in message.config?.cards"
                  :key="card.text"
                  class="flex justify-center w-full py-2 gap-2"
                >
                  <a :href="'#' + card.img?.url" class="btn btn-xs flex gap-2">{{ index + 1 }}</a>
                </div>
                <div
                  v-for="card in message.config?.cards"
                  :key="card.text"
                  class="flex justify-center w-full"
                >
                  <p>{{ card.text }}</p>
                </div>
              </div>
            </div>
          </div>
        </main>

        <div class="flex justify-around items-center bg-slate-500">
          <div
            v-for="button in conversation.messages[conversation.messages.length - 1].config
              ?.buttons"
            :key="button.text"
          >
            <div
              class="btn btn-xs sm:btn-sm md:btn-md btn-active m-2"
              @click="handleButtonClick(button.message)"
            >
              <button class="">
                {{ button.text }}
              </button>
            </div>
          </div>
        </div>

        <footer class="flex h-10">
          <input
            type="text"
            name="chat-text"
            id="chat-text"
            class="bg-white text-black flex-grow"
            v-model="conversationText"
            @keyup.enter="sendMessage()"
            autocomplete="off"
            placeholder="Escribe tu pregunta..."
            autofocus="true"
          />
          <button
            class="h-10 w-[50px] flex justify-center items-center red-1millionBot"
            @click="sendMessage()"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="white"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-narrow-right red-1millionBot"
            >
              <path stroke="none" d="M0 0h24v24H0z" fill="none" />
              <path d="M5 12l14 0" />
              <path d="M15 16l4 -4" />
              <path d="M15 8l4 4" />
            </svg>
          </button>
        </footer>
        <div class="millionbot text-center text-zinc-400 bg-white border-t-2">by 1millionbot</div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, nextTick } from 'vue'

const open = ref(false)
const conversationText = ref('')
const openChatMenu = ref(false)
const messagesChat = ref(null as unknown as Element)
const inputText = ref(Element)

interface Bot {
  id: number
  userName: string
  img: string
  welcomeMessage: string
}

interface Message {
  id: number
  text: string
  time: string
  userName: string
  role: string
  type: string
  config?: {
    url?: string
    alt?: string
    buttons?: {
      text: string
      message: string
    }[]
    links?: {
      url?: string
      text?: string
    }[]
    cards?: {
      text?: string
      img?: {
        url: string
        alt: string
      }
      links?: {
        url: string
        text: string
      }
    }[]
  }
}

interface Conversation {
  bot: Bot
  user: Bot
  messages: Message[]
}

const toggleOpen = () => {
  open.value = !open.value
  if (open.value === true) {
    scrollToBottom()
  }
}

const toggleMenu = () => {
  openChatMenu.value = !openChatMenu.value
}

const conversation = ref({
  bot: {
    id: 0,
    userName: 'Jonh Bot',
    img: '/botImg.webp',
    welcomeMessage: 'Bienvenido, soy un asistente de cocina'
  },
  user: {
    id: 1,
    userName: 'El lobo feróz',
    img: '/userImg.webp'
  },
  messages: [
    {
      id: 0,
      text: '¡Hola! me llamo Jonh Bot. Te ayudaré con información sobre nuestro servicio de asistentes virtuales.',
      time: '12:45:50',
      userName: '',
      role: 'bot',
      type: 'image',
      config: {
        url: '/botImg.webp',
        alt: 'descripcion de esta imagen'
      }
    },
    {
      id: 1,
      text: 'Hola Jonh Bot, necesito que me aclares unas cuantas cosas',
      time: '12:46:22',
      userName: '',
      role: 'user',
      type: 'text'
    },
    {
      id: 2,
      text: '¿Me puedes pasar un link del plato?',
      time: '12:46:30',
      userName: '',
      role: 'user',
      type: 'text'
    },
    {
      id: 3,
      text: 'Claro aquí tienes un link con la receta',
      time: '12:46:32',
      userName: '',
      role: 'bot',
      type: 'link',
      config: {
        links: [
          {
            url: 'https://chat-toneti.netlify.app/',
            text: 'La receta'
          }
        ]
      }
    },
    {
      id: 4,
      text: 'Cual es tu pregunta... porque tengo muchas recetas en mi cabeza',
      time: '12:46:28',
      userName: '',
      role: 'bot',
      type: 'button',
      config: {
        buttons: [
          {
            text: 'Tortilla de patatas',
            message: 'Tortilla de patatas'
          },
          {
            text: 'Cordero al horno',
            message: 'Cordero al horno'
          }
        ]
      }
    },
    {
      id: 5,
      text: 'Pasame una tarjeta',
      time: '12:46:50',
      userName: '',
      role: 'user',
      type: 'text'
    },
    {
      id: 6,
      text: 'Esto es un mensaje de tipo tarjeta',
      time: '12:47:00',
      userName: '',
      role: 'bot',
      type: 'cards',
      config: {
        cards: [
          {
            text: 'Tortilla de patatas',
            img: {
              url: '/botImg.webp',
              alt: 'Tortilla de patatas'
            },
            links: [
              {
                url: 'https://chat-toneti.netlify.app/'
              }
            ]
          },
          {
            text: 'Cordero al horno',
            img: {
              url: '/userImg.webp',
              alt: 'Cordero al horno'
            },
            links: [
              {
                url: 'https://chat-toneti.netlify.app/'
              }
            ]
          }
        ]
      }
    }
  ]
} as Conversation)

const getSenderName = (messageObject: Message) => {
  if (messageObject.role === 'bot') {
    return conversation.value.bot.userName
  } else {
    return conversation.value.user.userName
  }
}

const getSenderImg = (messageObject: Message) => {
  if (messageObject.role === 'bot') {
    return conversation.value.bot.img
  } else {
    return conversation.value.user.img
  }
}

const getRandomInt = (max: number) => {
  return Math.floor(Math.random() * Math.floor(max))
}

const scrollToBottom = () => {
  nextTick(() => {
    const messageChatComponent = messagesChat.value
    if (messageChatComponent) {
      messageChatComponent.scrollTo({
        top: messageChatComponent.scrollHeight,
        left: 0,
        behavior: 'smooth'
      })
    }
  })
}

const handleButtonClick = (message: string) => {
  const hour = new Date().toLocaleString().split(', ')[1]
  const newMessage = {
    id: conversation.value.messages.length,
    text: message,
    time: hour,
    userName: '',
    role: 'user',
    type: 'text'
  }
  conversation.value.messages.push(newMessage)
  if (newMessage.text === 'Tortilla de patatas') {
    const messageBot = {
      id: conversation.value.messages.length,
      text: recipe.value.info[0].text,
      time: hour,
      userName: '',
      role: 'bot',
      type: 'text'
    }
    conversation.value.messages.push(messageBot)
  }
  if (newMessage.text === 'Cordero al horno') {
    const messageBot = {
      id: conversation.value.messages.length,
      text: 'El cordero al horno se hace asi',
      time: hour,
      userName: '',
      role: 'bot',
      type: 'text'
    }
    conversation.value.messages.push(messageBot)
  }
  scrollToBottom()
}

const sendMessage = () => {
  const hour = new Date().toLocaleString().split(', ')[1]

  if (conversationText.value === '' || conversationText.value.length <= 0) {
    const messageObject = {
      id: conversation.value.messages.length,
      text: 'Debes escribir algo o no podré ayudarte',
      time: hour,
      userName: conversation.value.bot.userName,
      role: 'bot',
      type: 'text'
    }
    conversation.value.messages.push(messageObject)
  } else {
    const messageObject = {
      id: conversation.value.messages.length,
      text: conversationText.value,
      time: hour,
      userName: conversation.value.user.userName,
      role: 'user',
      type: 'text'
    }
    conversation.value.messages.push(messageObject)

    let x = getRandomInt(5)

    if (x === 0) {
      const messageBot = {
        id: conversation.value.messages.length,
        text: 'Esto es un mensaje de tipo texto',
        time: hour,
        userName: conversation.value.bot.userName,
        role: 'bot',
        type: 'text'
      }
      conversation.value.messages.push(messageBot)
      conversationText.value = ''
    }

    if (x === 1) {
      const messageBot = {
        id: conversation.value.messages.length,
        text: 'Imagen predeterminada',
        time: hour,
        userName: conversation.value.bot.userName,
        role: 'bot',
        type: 'image',
        config: {
          url: '/botImg.webp',
          alt: 'descripcion de esta imagen'
        }
      }
      conversation.value.messages.push(messageBot)
      conversationText.value = ''
    }

    if (x === 2) {
      const messageBot = {
        id: conversation.value.messages.length,
        text: 'Aquí tienes el link de la receta',
        time: hour,
        userName: conversation.value.bot.userName,
        role: 'bot',
        type: 'link',
        config: {
          links: [
            {
              url: 'https://chat-toneti.netlify.app/',
              text: 'La receta'
            }
          ]
        }
      }
      conversation.value.messages.push(messageBot)
      conversationText.value = ''
    }

    if (x === 3) {
      const messageBot = {
        id: conversation.value.messages.length,
        text: '¿Cuál de estas recetas te gustaría hacer?',
        time: hour,
        userName: conversation.value.bot.userName,
        role: 'bot',
        type: 'button',
        config: {
          buttons: [
            {
              text: 'Tortilla de patatas',
              message: 'Tortilla de patatas'
            },
            {
              text: 'Cordero al horno',
              message: 'Cordero al horno'
            }
          ]
        }
      }
      conversation.value.messages.push(messageBot)
      conversationText.value = ''
    }

    if (x === 4) {
      const messageBot = {
        id: conversation.value.messages.length,
        text: 'Aqui tienes el pequeño texto de la tarjeta',
        time: hour,
        userName: conversation.value.bot.userName,
        role: 'bot',
        type: 'cards',
        config: {
          cards: [
            {
              text: 'Tortilla de patatas',
              img: {
                url: '/botImg.webp',
                alt: 'Tortilla de patatas'
              },
              links: {
                url: 'https://chat-toneti.netlify.app/',
                text: 'Link proyecto'
              }
            }
          ]
        }
      }
      conversation.value.messages.push(messageBot)
      conversationText.value = ''
    }
  }
  scrollToBottom()
}

const recipe = ref({
  info: [
    {
      id: 0,
      name: 'tortilla de patatas',
      text: `Para hacer una buena tortilla de patatas a la española debes de seguir los siguientes pasos:
      1. Tal.
      2. Pascual
      3. Servir.`
    }
  ]
})
</script>

<style lang="scss" scoped>
.red-1millionBot {
  background-color: #ef5350;
}
</style>
